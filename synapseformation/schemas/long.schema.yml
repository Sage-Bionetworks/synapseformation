$base: "https://synapse.org#"

$namespaces:
  syn: "https://synapse.org#"

$graph:

- name: RootDoc
  type: documentation
  doc:
    - |
      # SynapseFormation Long Template

      TBD

- name: ResourceRecord
  doc: |
    The abstract base type for a Synapse resource.
  type: record
  abstract: true
  fields:
  - name: name
    doc: ""
    type: string?
  - name: id
    doc: "Synapse ID"
    type: string?

- name: EntityRecord
  doc: |
    The abstract base type for a Synapse entity.
  type: record
  extends: ResourceRecord
  abstract: true
  fields:
  - name: children
    doc: ""
    type: FolderRecord[]?
  - name: acl
    doc: ""
    type: AccessControlListRecord[]?

- name: ProjectRecord
  doc: |
    The type for a Synapse project.
  type: record
  extends: EntityRecord
  documentRoot: true
  docParent: "#RootDoc"
  fields:
  - name: type
    doc: ""
    jsonldPredicate: syn:type
    type:
      type: enum
      symbols:
      - Project

- name: FolderRecord
  doc: |
    The type for a Synapse folder.
  type: record
  extends: EntityRecord
  docParent: "#RootDoc"
  fields:
  - name: type
    doc: ""
    jsonldPredicate: syn:type
    type:
      type: enum
      symbols:
      - Folder

- name: EntityAccessType
  type: enum
  symbols:
  - syn:READ
  - syn:DOWNLOAD
  - syn:UPDATE
  - syn:CREATE
  - syn:DELETE
  - syn:CHANGE_SETTINGS
  - syn:MODERATE
  - syn:CHANGE_PERMISSIONS

- name: QueueAccessType
  type: enum
  symbols:
  - syn:READ
  - syn:SUBMIT
  - syn:UPDATE_SUBMISSION
  - syn:READ_PRIVATE_SUBMISSION
  - syn:DELETE_SUBMISSION
  - syn:DELETE
  - syn:UPDATE
  - syn:CREATE
  - syn:CHANGE_PERMISSIONS

- name: AccessControlListRecord
  doc: |
    The type for a Synapse folder.
  type: record
  fields:
  - name: principal_id
    doc: ""
    type: int
    jsonldPredicate: syn:principal_id
  - name: access_type
    doc: ""
    type: EntityAccessType[]

- name: InvitedMemberRecord
  doc: |
    The type for a member being invited to join a Synapse team.
  type: record
  fields:
  - name: principal_id
    doc: ""
    type: int?
    jsonldPredicate: syn:principal_id
  - name: email
    doc: ""
    type: string?

- name: InvitationsRecord
  doc: |
    The type for an invitation to join a Synapse team.
  type: record
  fields:
  - name: message
    doc: ""
    type: string
  - name: members
    doc: ""
    type: InvitedMemberRecord[]

- name: TeamRecord
  doc: |
    The type for a Synapse team.
  type: record
  extends: ResourceRecord
  documentRoot: true
  fields:
  - name: type
    doc: ""
    type:
      type: enum
      symbols:
      - Team
    jsonldPredicate: syn:type
  - name: can_public_join
    doc: ""
    type: boolean
  - name: description
    doc: ""
    type: string
  - name: invitations
    doc: ""
    type: InvitationsRecord[]?
